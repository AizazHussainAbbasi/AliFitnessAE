(function(n){function t(t){abp.ui.setBusy(_$divPhotoTrackingList);abp.ajax({url:abp.appPath+"Admin/userTracking/CreatePhotoTrackingModal",type:"GET",dataType:"html"}).done(function(i){n("#divCreatePhotoTrackingModal").html(i);n("#PhotoTrackingCreateModal").modal("show");n("#photoTrackingId").val(t)}).fail(function(n){errorHandler(n)}).always(function(){abp.ui.clearBusy(_$divPhotoTrackingList)})}function i(t,i){var u="",r={};r.id=t;r.isApprove=i;u=r.isApprove?l("SuccessfullyApproved"):l("SuccessfullyUnApprove");_photoTrackingService.updatePhotoTrackingStatus(r).done(()=>{abp.notify.info(u),n(".btn-search").trigger("click")})}_photoTrackingService=abp.services.app.photoTracking;l=abp.localization.getSource("AliFitnessAE");_$searchForm=n("#UserTrackingSearchForm");_$divPhotoTrackingList=n("#divPhotoTrackingList");n(".btn-search").on("click",()=>{var n=_$searchForm.serializeFormToObject(!0);n.userId=n.searchFormUserList;loadComponentView("divPhotoTrackingList","PhotoTracking","PhotoTracking",null,n,"_Default")});n("#SearchFormUserList").select2({});n("#SearchFromDate,#SearchToDate").datepicker({format:"mm/dd/yyyy",clearBtn:!0,endDate:"+0d"});n(document).on("click","#hrefPhotoTrackingCreate",function(){t(null)});n(document).on("click",".hrefPhotoTrackingEdit",function(){var i=n(this).attr("data-id");t(i)});n(document).on("shown.bs.modal","#PhotoTrackingCreateModal",function(){var i={},t;i.userId=abp.session.userId;t=n("#photoTrackingId").val();t==""||t==null||t==undefined?_photoTrackingService.createPhotoTracking(i).done(function(t){n("#photoTrackingId").val(t.id);loadComponentView("create-tracking-photo","DocumentUploader","PhotoTracking",t.id)}):loadComponentView("create-tracking-photo","DocumentUploader","PhotoTracking",t)}).on("hidden.bs.modal","#PhotoTrackingCreateModal",()=>{var t=n("#photoTrackingId").val();abp.ajax({url:abp.appPath+"Admin/userTracking/DeletePhotoTracking?id="+t,type:"POST",dataType:"html"}).done(function(){n(".btn-search").trigger("click")}).fail(function(n){errorHandler(n)})});n(document).on("click",".updatePhotoTrackingStatus",function(){var u=n(this).attr("data-id"),r=n(this).attr("data-userTracking-status"),t=!1;r=="UnApproved"?t=!0:r=="Approved"&&(t=!1);i(u,t)})})(jQuery);